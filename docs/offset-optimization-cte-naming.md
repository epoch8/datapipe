# Уникальные имена CTE при повторном использовании таблицы в offset-оптимизации

## Проблема

При использовании одной и той же таблицы несколько раз с разными `join_keys` в offset-оптимизации возникал конфликт имен CTE (Common Table Expressions). Например, когда таблица подписок ссылается на таблицу пользователей дважды (follower и following), система пыталась создать два CTE с одинаковым именем `users_changes`, что приводило к ошибке SQLAlchemy `CompileError: Multiple, unrelated CTEs found with the same name`.

Это ограничивало возможность моделирования связей вида "многие ко многим" с самореференциальными отношениями, когда одна таблица выступает в разных ролях (например, подписчик и тот, на кого подписываются).

## Решение

Реализовано отслеживание количества использований каждой таблицы в рамках одного запроса через счетчик `table_usage_count`. При первом использовании таблицы CTE получает базовое имя (`table_name_changes`), а при повторных использованиях к имени добавляется порядковый номер (`table_name_changes_1`, `table_name_changes_2` и т.д.).

Это позволяет использовать одну таблицу многократно с различными `join_keys`, создавая для каждого использования уникальный CTE в результирующем SQL-запросе.
